# Сайт экологические-услуги.рф

## Реализация вставки топонимов в контент в зависимости от поддомена/домена

- **Data > CitiesService.cs** - сервис для подстановки топонимов и данных.
- **Data > CityDataService.cs** - извлечение данных в память при старте приложения и возвращение нужной информации при запросах.
- **Data > citydata.json** - данные по регионам.
- **Shared > SubdomainService.cs** - сервис для работы с поддоменами.

## Реализация Middleware для динамического формирования robots.txt и sitemap.xml

Идея состоит в том, чтобы домену выдавать свой файл, а поддоменам склеивать два файла:
- **robots-template-sub.txt**
- **поддомен.txt**

(динамически не стал генерить файлы для более гибкого управления).

- **Middleware > CustomRobotsAndSitemaps.cs** - Middleware для обработки запросов к robots.txt и sitemap.xml.
- **wwwroot > robots-txt** - заготовки файлов.

## Реализация ставки канонической ссылки по первому маршруту директивы Page

Структура сайта предполагает, что некоторые страницы будут доступны по разным URL:
- **Shared > Canonical.razor** - реализация канонической ссылки.

## Реализация обратной связи

- **Shared > ContactForms** - реализация формы обратной связи.

## Механизм навигации по услугам

В настоящий момент реализую механизм навигации по услугам. Реализация будет основываться на XML данных примерно такого вида:
- **Menu > service_menu.xml** - из чего будет формироваться меню услуг. Страница услуг с разными фильтрами по разделам и видам отходов, также эти данные будут использоваться для формирования хлебных крошек и sitemap.xml.
